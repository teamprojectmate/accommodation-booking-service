// src/styles/abstract/_mixins.scss
@use '../abstract/variables' as *;

// -----------------------------
// Breakpoints / media helper
// -----------------------------
@mixin media($bp) {
  @if $bp == sm {
    @media (min-width: $breakpoint-sm) {
      @content;
    }
  } @else if $bp == md {
    @media (min-width: $breakpoint-md) {
      @content;
    }
  } @else if $bp == lg {
    @media (min-width: $breakpoint-lg) {
      @content;
    }
  } @else if $bp == xl {
    @media (min-width: $breakpoint-xl) {
      @content;
    }
  } @else {
    // fallback â†’ md
    @media (min-width: $breakpoint-md) {
      @content;
    }
  }
}

// -----------------------------
// Shadows
// -----------------------------
@mixin card-shadow {
  box-shadow: $box-shadow-card;
}

@mixin card-shadow-hover {
  box-shadow: $box-shadow-card-hover;
}

@mixin card-shadows($shadow) {
  box-shadow: $shadow;
}

// -----------------------------
// Typography helpers
// -----------------------------
@mixin heading($size: 1.5rem, $weight: 700, $color: $heading-color) {
  font-size: $size;
  font-weight: $weight;
  line-height: 1.2;
  color: $color;
}

// -----------------------------
// Layout helpers
// -----------------------------
@mixin make-col($size, $gap: 1rem) {
  // N equal columns in a row
  $w: calc((100% / #{$size}) - #{$gap});

  flex: 0 0 $w;
  max-width: $w;
}

@mixin flex-center($direction: row) {
  display: flex;
  flex-direction: $direction;
  align-items: center;
  justify-content: center;
}

// Screen-reader only (keep icon visible)
@mixin sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  white-space: nowrap;
  border: 0;
  clip: rect(0, 0, 0, 0);
}

// -----------------------------
// Link underline indicator
// -----------------------------
@mixin underline($color: $primary-color, $thickness: 3px, $radius: 99px, $offset: 10px) {
  position: relative;

  &::after {
    position: absolute;
    right: 0;
    bottom: -#{$offset};
    left: 0;
    height: $thickness;
    content: '';
    background: transparent;
    border-radius: $radius;
    transform: scaleX(0);
    transition:
      transform 0.2s ease,
      background-color 0.2s ease;
  }

  &:hover::after,
  &.active::after {
    background: $color;
    transform: scaleX(1);
  }
}
